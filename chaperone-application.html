<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chaperone Application â€¢ SHNP</title>
  <meta name="description" content="Complete the Chaperone Application online. No downloads required.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet" />

  <!-- Global and page styles -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/chaperone-app.css" />

  <!-- Optional analytics -->
  <script type="text/javascript" id="hs-script-loader" async defer src="//js-na2.hs-scripts.com/243496281.js"></script>
</head>
<body>
    <!--#include virtual="partials/top-strip.html" -->

  <!-- Header -->
  <header class="header">
    <!--#include virtual="partials/header.html" -->
  </header>

  <!-- Hero -->
  <section class="page-hero" aria-labelledby="pageTitle">
    <div class="container">
      <h1 id="pageTitle">Chaperone Application</h1>
      <p class="muted">Fill this out online. Fields marked * are required.</p>
    </div>
  </section>

  <!-- Layout: sticky section nav + form -->
  <main class="section">
    <div class="container form-layout">
      <!-- Sticky in page nav -->
      <aside class="form-nav" aria-label="Form sections">
        <nav>
          <ol>
            <li><a class="form-nav__link" href="#applicant">Applicant</a></li>
            <li><a class="form-nav__link" href="#emergency">Emergency</a></li>
            <li><a class="form-nav__link" href="#education">Education</a></li>
            <li><a class="form-nav__link" href="#employment">Employment</a></li>
            <li><a class="form-nav__link" href="#references">References</a></li>
            <li><a class="form-nav__link" href="#certify">Certification</a></li>
          </ol>
        </nav>
        <span class="form-nav__indicator" aria-hidden="true"></span>
      </aside>

      <!-- Full application form -->
      <section class="form-wrap" aria-label="Chaperone application form">
        <form id="chaperoneFullForm" class="app-form" novalidate>
          <!-- Applicant Information -->
          <fieldset class="card section-group" id="applicant">
            <legend>Applicant Information</legend>

            <div class="field-inline-3">
              <div>
                <label for="last_name">Last Name *</label>
                <input id="last_name" name="last_name" class="input" autocomplete="family-name" required />
              </div>
              <div>
                <label for="first_name">First Name *</label>
                <input id="first_name" name="first_name" class="input" autocomplete="given-name" required />
              </div>
              <div>
                <label for="middle_name">Middle</label>
                <input id="middle_name" name="middle_name" class="input" />
              </div>
            </div>

            <div class="field-address">
              <div class="span-2">
                <label for="street">Street *</label>
                <input id="street" name="street" class="input" autocomplete="address-line1" required />
              </div>
              <div>
                <label for="city">City *</label>
                <input id="city" name="city" class="input" autocomplete="address-level2" required />
              </div>
              <div class="state-zip">
                <div>
                  <label for="state">State *</label>
                  <input id="state" name="state" class="input" maxlength="2" placeholder="OH" autocomplete="address-level1" required />
                </div>
                <div>
                  <label for="zip">Zip *</label>
                  <input id="zip" name="zip" class="input" pattern="\\d{5}(-\\d{4})?" inputmode="numeric" placeholder="45237" autocomplete="postal-code" required />
                </div>
              </div>
            </div>

            <div class="field-inline-3">
              <div>
                <label for="phone_home">Phone</label>
                <input id="phone_home" name="phone_home" class="input" inputmode="tel" autocomplete="tel" placeholder="(xxx) xxx-xxxx" />
              </div>
              <div>
                <label for="phone_cell">Cell</label>
                <input id="phone_cell" name="phone_cell" class="input" inputmode="tel" autocomplete="tel-national" placeholder="(xxx) xxx-xxxx" />
              </div>
              <div>
                <label for="email">Email *</label>
                <input id="email" name="email" type="email" class="input" placeholder="name@example.com" autocomplete="email" required />
              </div>
            </div>

            <div class="field-inline-3">
              <div>
                <label for="ssn">Social Security *</label>
                <input id="ssn" name="ssn" class="input" inputmode="numeric" pattern="\\d{3}-\\d{2}-\\d{4}" placeholder="123-45-6789" required />
                <small class="muted">Only submit over HTTPS. Store securely.</small>
              </div>
              <div>
                <label for="dob">Date of Birth *</label>
                <input id="dob" name="dob" type="date" class="input" required />
              </div>
              <div class="state-zip">
                <div>
                  <label for="dl_state">License State *</label>
                  <input id="dl_state" name="dl_state" class="input" maxlength="2" placeholder="OH" required />
                </div>
                <div>
                  <label for="dl_number">License Number *</label>
                  <input id="dl_number" name="dl_number" class="input" required />
                </div>
              </div>
            </div>

            <div class="field-inline-2">
              <div>
                <label for="airport_1">Closest Major Airport *</label>
                <input id="airport_1" name="airport_1" class="input" required />
              </div>
              <div>
                <label for="airport_2">Second Closest Major Airport *</label>
                <input id="airport_2" name="airport_2" class="input" required />
              </div>
            </div>

            <div class="field-inline-2">
              <div>
                <label for="dates_available">Dates Available *</label>
                <textarea id="dates_available" name="dates_available" class="input" rows="2" placeholder="List ranges or specific dates" required></textarea>
              </div>
              <div>
                <label for="referred_by">Referred By</label>
                <input id="referred_by" name="referred_by" class="input" />
              </div>
            </div>

            <div class="field-stack">
              <fieldset class="yesno">
                <legend>Have you ever been accused or convicted of a crime? *</legend>
                <label><input type="radio" name="crime_history" value="No" required /> No</label>
                <label><input type="radio" name="crime_history" value="Yes" required /> Yes</label>
              </fieldset>
              <div id="crime_explain_wrap" class="hidden">
                <label for="crime_explain">If yes, please explain</label>
                <textarea id="crime_explain" name="crime_explain" class="input" rows="3"></textarea>
              </div>

              <fieldset class="yesno">
                <legend>Have you ever been accused or convicted of mishandling or misappropriating funds? *</legend>
                <label><input type="radio" name="funds_history" value="No" required /> No</label>
                <label><input type="radio" name="funds_history" value="Yes" required /> Yes</label>
              </fieldset>
              <div id="funds_explain_wrap" class="hidden">
                <label for="funds_explain">If yes, please explain</label>
                <textarea id="funds_explain" name="funds_explain" class="input" rows="3"></textarea>
              </div>
            </div>
          </fieldset>

          <!-- Emergency Contact -->
          <fieldset class="card section-group" id="emergency">
            <legend>Emergency Contact</legend>

            <div class="field-inline-3">
              <div class="span-2">
                <label for="em_name">Name *</label>
                <input id="em_name" name="em_name" class="input" required />
              </div>
              <div>
                <label for="em_relationship">Relationship *</label>
                <input id="em_relationship" name="em_relationship" class="input" required />
              </div>
            </div>

            <div class="field-address">
              <div class="span-2">
                <label for="em_street">Street *</label>
                <input id="em_street" name="em_street" class="input" required />
              </div>
              <div>
                <label for="em_city">City *</label>
                <input id="em_city" name="em_city" class="input" required />
              </div>
              <div class="state-zip">
                <div>
                  <label for="em_state">State *</label>
                  <input id="em_state" name="em_state" class="input" maxlength="2" required />
                </div>
                <div>
                  <label for="em_zip">Zip *</label>
                  <input id="em_zip" name="em_zip" class="input" pattern="\\d{5}(-\\d{4})?" inputmode="numeric" required />
                </div>
              </div>
            </div>

            <div class="field-inline-2">
              <div>
                <label for="em_phone">Phone *</label>
                <input id="em_phone" name="em_phone" class="input" inputmode="tel" required />
              </div>
              <div>
                <label for="em_cell">Cell</label>
                <input id="em_cell" name="em_cell" class="input" inputmode="tel" />
              </div>
            </div>
          </fieldset>

          <!-- Education and Experience -->
          <fieldset class="card section-group" id="education">
            <legend>Education and Experience</legend>

            <div class="school-repeat">
              <div class="sublegend">School 1</div>
              <div class="field-inline-2">
                <div><label for="school1_name">Name of School</label><input id="school1_name" name="school1_name" class="input" /></div>
                <div><label for="school1_dates">Dates Attended</label><input id="school1_dates" name="school1_dates" class="input" placeholder="2019 to 2023" /></div>
              </div>
              <div class="field-inline-2">
                <div><label for="school1_major">Major Course of Study</label><input id="school1_major" name="school1_major" class="input" /></div>
                <div><label for="school1_degree">Diploma or Degree</label><input id="school1_degree" name="school1_degree" class="input" /></div>
              </div>
            </div>

            <div class="school-repeat">
              <div class="sublegend">School 2</div>
              <div class="field-inline-2">
                <div><label for="school2_name">Name of School</label><input id="school2_name" name="school2_name" class="input" /></div>
                <div><label for="school2_dates">Dates Attended</label><input id="school2_dates" name="school2_dates" class="input" /></div>
              </div>
              <div class="field-inline-2">
                <div><label for="school2_major">Major Course of Study</label><input id="school2_major" name="school2_major" class="input" /></div>
                <div><label for="school2_degree">Diploma or Degree</label><input id="school2_degree" name="school2_degree" class="input" /></div>
              </div>
            </div>

            <div class="school-repeat">
              <div class="sublegend">School 3</div>
              <div class="field-inline-2">
                <div><label for="school3_name">Name of School</label><input id="school3_name" name="school3_name" class="input" /></div>
                <div><label for="school3_dates">Dates Attended</label><input id="school3_dates" name="school3_dates" class="input" /></div>
              </div>
              <div class="field-inline-2">
                <div><label for="school3_major">Major Course of Study</label><input id="school3_major" name="school3_major" class="input" /></div>
                <div><label for="school3_degree">Diploma or Degree</label><input id="school3_degree" name="school3_degree" class="input" /></div>
              </div>
            </div>

            <div class="field-stack">
              <label for="skills">Other educational experience or special skills</label>
              <textarea id="skills" name="skills" class="input" rows="3" placeholder="First aid, CPR, sign language, etc."></textarea>
            </div>

            <div class="field-stack">
              <label for="dev_disability_exp">Experience working with people with developmental disabilities</label>
              <textarea id="dev_disability_exp" name="dev_disability_exp" class="input" rows="3"></textarea>
            </div>

            <div class="field-stack">
              <label for="travel_exp">Travel experience</label>
              <textarea id="travel_exp" name="travel_exp" class="input" rows="3"></textarea>
            </div>

            <div class="field-stack">
              <label for="volunteer_exp">Volunteer experience</label>
              <textarea id="volunteer_exp" name="volunteer_exp" class="input" rows="3"></textarea>
            </div>
          </fieldset>

          <!-- Employment History -->
          <fieldset class="card section-group" id="employment">
            <legend>Employment History</legend>

            <div class="sublegend">Current Employer</div>
            <div class="field-inline-3">
              <div><label for="emp_current_name">Employer *</label><input id="emp_current_name" name="emp_current_name" class="input" required /></div>
              <div><label for="emp_current_supervisor">Supervisor *</label><input id="emp_current_supervisor" name="emp_current_supervisor" class="input" required /></div>
              <div><label for="emp_current_title">Job Title *</label><input id="emp_current_title" name="emp_current_title" class="input" required /></div>
            </div>
            <div class="field-stack">
              <label for="emp_current_desc">Brief Job Description *</label>
              <textarea id="emp_current_desc" name="emp_current_desc" class="input" rows="3" required></textarea>
            </div>
            <div class="field-inline-3">
              <div><label for="emp_current_start">Employment Start *</label><input id="emp_current_start" name="emp_current_start" type="date" class="input" required /></div>
              <div><label for="emp_current_end">End</label><input id="emp_current_end" name="emp_current_end" type="date" class="input" /></div>
              <div><label for="emp_current_phone">Phone *</label><input id="emp_current_phone" name="emp_current_phone" class="input" inputmode="tel" required /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="emp_current_street">Street *</label><input id="emp_current_street" name="emp_current_street" class="input" required /></div>
              <div><label for="emp_current_city">City *</label><input id="emp_current_city" name="emp_current_city" class="input" required /></div>
              <div class="state-zip">
                <div><label for="emp_current_state">State *</label><input id="emp_current_state" name="emp_current_state" class="input" maxlength="2" required /></div>
                <div><label for="emp_current_zip">Zip *</label><input id="emp_current_zip" name="emp_current_zip" class="input" inputmode="numeric" required /></div>
              </div>
            </div>
            <div class="field-stack">
              <label for="emp_current_reason">Reason For Leaving</label>
              <input id="emp_current_reason" name="emp_current_reason" class="input" />
            </div>

            <hr class="divider" />

            <div class="sublegend">Previous Employer 1</div>
            <div class="field-inline-3">
              <div><label for="emp_prev1_name">Employer</label><input id="emp_prev1_name" name="emp_prev1_name" class="input" /></div>
              <div><label for="emp_prev1_supervisor">Supervisor</label><input id="emp_prev1_supervisor" name="emp_prev1_supervisor" class="input" /></div>
              <div><label for="emp_prev1_title">Job Title</label><input id="emp_prev1_title" name="emp_prev1_title" class="input" /></div>
            </div>
            <div class="field-stack">
              <label for="emp_prev1_desc">Brief Job Description</label>
              <textarea id="emp_prev1_desc" name="emp_prev1_desc" class="input" rows="3"></textarea>
            </div>
            <div class="field-inline-3">
              <div><label for="emp_prev1_start">Start</label><input id="emp_prev1_start" name="emp_prev1_start" type="date" class="input" /></div>
              <div><label for="emp_prev1_end">End</label><input id="emp_prev1_end" name="emp_prev1_end" type="date" class="input" /></div>
              <div><label for="emp_prev1_phone">Phone</label><input id="emp_prev1_phone" name="emp_prev1_phone" class="input" inputmode="tel" /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="emp_prev1_street">Street</label><input id="emp_prev1_street" name="emp_prev1_street" class="input" /></div>
              <div><label for="emp_prev1_city">City</label><input id="emp_prev1_city" name="emp_prev1_city" class="input" /></div>
              <div class="state-zip">
                <div><label for="emp_prev1_state">State</label><input id="emp_prev1_state" name="emp_prev1_state" class="input" maxlength="2" /></div>
                <div><label for="emp_prev1_zip">Zip</label><input id="emp_prev1_zip" name="emp_prev1_zip" class="input" inputmode="numeric" /></div>
              </div>
            </div>
            <div class="field-stack">
              <label for="emp_prev1_reason">Reason For Leaving</label>
              <input id="emp_prev1_reason" name="emp_prev1_reason" class="input" />
            </div>

            <hr class="divider" />

            <div class="sublegend">Previous Employer 2</div>
            <div class="field-inline-3">
              <div><label for="emp_prev2_name">Employer</label><input id="emp_prev2_name" name="emp_prev2_name" class="input" /></div>
              <div><label for="emp_prev2_supervisor">Supervisor</label><input id="emp_prev2_supervisor" name="emp_prev2_supervisor" class="input" /></div>
              <div><label for="emp_prev2_title">Job Title</label><input id="emp_prev2_title" name="emp_prev2_title" class="input" /></div>
            </div>
            <div class="field-stack">
              <label for="emp_prev2_desc">Brief Job Description</label>
              <textarea id="emp_prev2_desc" name="emp_prev2_desc" class="input" rows="3"></textarea>
            </div>
            <div class="field-inline-3">
              <div><label for="emp_prev2_start">Start</label><input id="emp_prev2_start" name="emp_prev2_start" type="date" class="input" /></div>
              <div><label for="emp_prev2_end">End</label><input id="emp_prev2_end" name="emp_prev2_end" type="date" class="input" /></div>
              <div><label for="emp_prev2_phone">Phone</label><input id="emp_prev2_phone" name="emp_prev2_phone" class="input" inputmode="tel" /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="emp_prev2_street">Street</label><input id="emp_prev2_street" name="emp_prev2_street" class="input" /></div>
              <div><label for="emp_prev2_city">City</label><input id="emp_prev2_city" name="emp_prev2_city" class="input" /></div>
              <div class="state-zip">
                <div><label for="emp_prev2_state">State</label><input id="emp_prev2_state" name="emp_prev2_state" class="input" maxlength="2" /></div>
                <div><label for="emp_prev2_zip">Zip</label><input id="emp_prev2_zip" name="emp_prev2_zip" class="input" inputmode="numeric" /></div>
              </div>
            </div>
            <div class="field-stack">
              <label for="emp_prev2_reason">Reason For Leaving</label>
              <input id="emp_prev2_reason" name="emp_prev2_reason" class="input" />
            </div>
          </fieldset>

          <!-- References -->
          <fieldset class="card section-group" id="references">
            <legend>References</legend>
            <p class="muted small">List three people not related to you whom you have known for at least 1 year.</p>

            <!-- Ref 1 -->
            <div class="sublegend">Reference 1</div>
            <div class="field-inline-3">
              <div class="span-2"><label for="ref1_name">Name *</label><input id="ref1_name" name="ref1_name" class="input" required /></div>
              <div><label for="ref1_relationship">Relationship *</label><input id="ref1_relationship" name="ref1_relationship" class="input" required /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="ref1_street">Street *</label><input id="ref1_street" name="ref1_street" class="input" required /></div>
              <div><label for="ref1_city">City *</label><input id="ref1_city" name="ref1_city" class="input" required /></div>
              <div class="state-zip">
                <div><label for="ref1_state">State *</label><input id="ref1_state" name="ref1_state" class="input" maxlength="2" required /></div>
                <div><label for="ref1_phone">Phone *</label><input id="ref1_phone" name="ref1_phone" class="input" inputmode="tel" required /></div>
              </div>
            </div>

            <!-- Ref 2 -->
            <div class="sublegend">Reference 2</div>
            <div class="field-inline-3">
              <div class="span-2"><label for="ref2_name">Name *</label><input id="ref2_name" name="ref2_name" class="input" required /></div>
              <div><label for="ref2_relationship">Relationship *</label><input id="ref2_relationship" name="ref2_relationship" class="input" required /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="ref2_street">Street *</label><input id="ref2_street" name="ref2_street" class="input" required /></div>
              <div><label for="ref2_city">City *</label><input id="ref2_city" name="ref2_city" class="input" required /></div>
              <div class="state-zip">
                <div><label for="ref2_state">State *</label><input id="ref2_state" name="ref2_state" class="input" maxlength="2" required /></div>
                <div><label for="ref2_phone">Phone *</label><input id="ref2_phone" name="ref2_phone" class="input" inputmode="tel" required /></div>
              </div>
            </div>

            <!-- Ref 3 -->
            <div class="sublegend">Reference 3</div>
            <div class="field-inline-3">
              <div class="span-2"><label for="ref3_name">Name *</label><input id="ref3_name" name="ref3_name" class="input" required /></div>
              <div><label for="ref3_relationship">Relationship *</label><input id="ref3_relationship" name="ref3_relationship" class="input" required /></div>
            </div>
            <div class="field-address">
              <div class="span-2"><label for="ref3_street">Street *</label><input id="ref3_street" name="ref3_street" class="input" required /></div>
              <div><label for="ref3_city">City *</label><input id="ref3_city" name="ref3_city" class="input" required /></div>
              <div class="state-zip">
                <div><label for="ref3_state">State *</label><input id="ref3_state" name="ref3_state" class="input" maxlength="2" required /></div>
                <div><label for="ref3_phone">Phone *</label><input id="ref3_phone" name="ref3_phone" class="input" inputmode="tel" required /></div>
              </div>
            </div>
          </fieldset>

          <!-- Certification -->
          <fieldset class="card section-group" id="certify">
            <legend>Certification</legend>
            <p class="muted small">
              I state that all of the information provided above is true and accurate to the best of my knowledge.
              I authorize investigation of all statements contained in this application. I understand that
              misrepresentation or omission of facts is a Federal crime punishable by law.
            </p>

            <div class="field-inline-3">
              <div class="span-2">
                <label for="signature">Signature (type full name) *</label>
                <input id="signature" name="signature" class="input" required />
              </div>
              <div>
                <label for="signature_date">Date *</label>
                <input id="signature_date" name="signature_date" type="date" class="input" required />
              </div>
            </div>
            <label class="agree">
              <input type="checkbox" id="agree" required />
              I agree and certify the above is true.
            </label>
          </fieldset>

          <!-- Submit -->
          <div class="actions">
            <button class="btn btn-primary" type="submit">Submit Application</button>
            <button class="btn btn-ghost" type="reset">Reset</button>
          </div>

          <div id="formSuccess" class="alert success" role="status" aria-live="polite" style="display:none">
            Application submitted. We will be in touch soon.
          </div>
        </form>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container cols">
      <div>
        <div class="brand"><div class="logo" aria-hidden="true"></div><strong>SHNP</strong></div>
        <p class="muted" style="margin-top:10px">Step Higher â€¢ Nella's Place empowering youth through education, structure, and care.</p>
        <p class="muted" style="margin-top:10px">1610 California Ave, Cincinnati, OH 45237 â€¢ info@shnp.org â€¢ 513-436-0118</p>
      </div>
      <div>
        <h4>Programs</h4>
        <ul style="list-style:none;margin-top:10px">
          <li><a href="tours.html">Tours</a></li>
          <li><a href="scholarships.html">Scholarships</a></li>
          <li><a href="nellas-place.html">Nella's Place</a></li>
        </ul>
      </div>
      <div>
        <h4>Get Involved</h4>
        <ul style="list-style:none;margin-top:10px">
          <li><a href="volunteer.html">Volunteer</a></li>
          <li><a href="donate.html">Donate</a></li>
          <li><a href="careers.html">Careers</a></li>
        </ul>
      </div>
    </div>
    <div class="container" style="padding:10px 0;border-top:1px solid var(--border);display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap">
      <small>Â© 2025 SHNP. All rights reserved.</small>
      <small><a href="privacy-policy.html">Privacy</a> Â· <a href="terms.html">Terms</a></small>
    </div>
  </footer>

  <!-- Thank You overlay -->
  <div id="thankYou" class="ty" role="dialog" aria-modal="true" aria-labelledby="tyTitle" aria-hidden="true">
    <div class="ty__backdrop"></div>
    <div class="ty__card">
      <svg class="ty__icon" viewBox="0 0 120 120" aria-hidden="true">
        <circle class="check check__circle" cx="60" cy="60" r="42"></circle>
        <path class="check check__tick" d="M40 62 L55 75 L82 47"></path>
      </svg>
      <h2 id="tyTitle" class="ty__title">Thank you for applying</h2>
      <p class="ty__meta">We received your application. We will follow up by email soon.</p>
      <div class="ty__actions">
        <button id="tyClose" class="ty__btn ty__btn--primary" type="button">Close</button>
        <a href="index.html" class="ty__btn" role="button">Back to Home</a>
      </div>
    </div>
  </div>
  <div id="confetti" class="confetti" aria-hidden="true"></div>

  <!-- Interactions -->
  <script>
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    document.documentElement.style.scrollBehavior = prefersReduced ? 'auto' : 'smooth';

    // Smooth anchor scroll with offset and hash update
    const OFFSET = 96;
    function smoothTo(id){
      const el = document.querySelector(id);
      if(!el) return;
      const y = el.getBoundingClientRect().top + window.pageYOffset - OFFSET;
      window.scrollTo({ top: y, behavior: prefersReduced ? 'auto' : 'smooth' });
      history.replaceState(null, '', id);
    }
    document.querySelectorAll('.form-nav__link').forEach(link=>{
      link.addEventListener('click', e=>{
        e.preventDefault();
        smoothTo(link.getAttribute('href'));
        link.focus({ preventScroll: true });
      });
    });

    // Scroll spy with indicator
    const navRoot = document.querySelector('.form-nav');
    const navContainer = navRoot.querySelector('nav');
    const indicator = document.querySelector('.form-nav__indicator');
    const spyLinks = Array.from(document.querySelectorAll('.form-nav__link'));
    const spySections = spyLinks.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

    function moveIndicatorTo(link){
      const top = link.offsetTop + navContainer.offsetTop;
      indicator.style.transform = `translateY(${top}px)`;
      indicator.style.height = link.offsetHeight + 'px';
    }
    function activate(link){
      if (!link) return;
      spyLinks.forEach(l => l.classList.remove('is-active'));
      link.classList.add('is-active');
      moveIndicatorTo(link);
    }

    const io = new IntersectionObserver((entries)=>{
      let best = null;
      for(const e of entries){
        if(!e.isIntersecting) continue;
        if(!best || e.intersectionRatio > best.intersectionRatio) best = e;
      }
      if(best){
        const id = '#' + best.target.id;
        const link = spyLinks.find(l => l.getAttribute('href') === id);
        activate(link);
        document.querySelectorAll('.section-group').forEach(s => s.classList.toggle('is-current', s.id === best.target.id));
      }
    }, { root: null, rootMargin: '-45% 0px -45% 0px', threshold: [0, .25, .5, .75, 1] });

    spySections.forEach(sec => io.observe(sec));

    function fallbackSpy(){
      const pos = window.scrollY + OFFSET + 1;
      let current = spySections[0];
      for(const sec of spySections){
        if (pos >= sec.offsetTop) current = sec;
      }
      if (current){
        const link = spyLinks.find(l => l.getAttribute('href') === '#' + current.id);
        activate(link);
        document.querySelectorAll('.section-group').forEach(s => s.classList.toggle('is-current', s === current));
      }
    }
    window.addEventListener('scroll', ()=>requestAnimationFrame(fallbackSpy));

    // Resize observer keeps indicator aligned
    const ro = new ResizeObserver(()=>{
      const active = document.querySelector('.form-nav__link.is-active') || spyLinks[0];
      if (active) moveIndicatorTo(active);
    });
    ro.observe(navContainer);
    window.addEventListener('resize', ()=>requestAnimationFrame(()=>{
      const active = document.querySelector('.form-nav__link.is-active') || spyLinks[0];
      if (active) moveIndicatorTo(active);
    }));
    requestAnimationFrame(()=>{
      const start = spyLinks[0];
      if (start) activate(start);
      fallbackSpy();
      if (location.hash && document.querySelector(location.hash)) smoothTo(location.hash);
    });

    // Show and hide conditional textareas
    const form = document.getElementById('chaperoneFullForm');
    const crimeRadios = form.querySelectorAll('input[name="crime_history"]');
    const fundsRadios = form.querySelectorAll('input[name="funds_history"]');
    const crimeWrap = document.getElementById('crime_explain_wrap');
    const fundsWrap = document.getElementById('funds_explain_wrap');
    function toggleExplain(radios, wrap, textareaId){
      const val = [...radios].find(r => r.checked)?.value;
      if (val === 'Yes'){ wrap.classList.remove('hidden'); form[textareaId].setAttribute('required','required'); }
      else { wrap.classList.add('hidden'); form[textareaId].removeAttribute('required'); form[textareaId].value = ''; }
    }
    crimeRadios.forEach(r => r.addEventListener('change', ()=>toggleExplain(crimeRadios, crimeWrap, 'crime_explain')));
    fundsRadios.forEach(r => r.addEventListener('change', ()=>toggleExplain(fundsRadios, fundsWrap, 'funds_explain')));

    // Thank you overlay + confetti
    const ty = document.getElementById('thankYou');
    const tyClose = document.getElementById('tyClose');
    const confettiWrap = document.getElementById('confetti');
    function showThankYou(){
      ty.classList.add('ty--show');
      ty.setAttribute('aria-hidden','false');
      launchConfetti(100);
    }
    function hideThankYou(){
      ty.classList.remove('ty--show');
      ty.setAttribute('aria-hidden','true');
      confettiWrap.innerHTML = '';
    }
    tyClose?.addEventListener('click', hideThankYou);
    ty?.addEventListener('click', (e)=>{ if(e.target === ty) hideThankYou(); });
    function launchConfetti(count){
      const colors = ['#6f00ff','#2bb24c','#00b4ff','#ffd54a','#ff6b6b'];
      const w = window.innerWidth;
      for(let i=0;i<count;i++){
        const el = document.createElement('i');
        const x = Math.random() * w;
        const y = -20 - Math.random()*200;
        const move = (Math.random() - .5) * 200;
        el.style.left = x + 'px';
        el.style.top = y + 'px';
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.transform = `translate3d(0,0,0) rotate(${Math.random()*360}deg)`;
        el.style.animationDuration = 1.5 + Math.random()*1.8 + 's';
        el.style.setProperty('--x-move', move + 'px');
        confettiWrap.appendChild(el);
        setTimeout(()=> el.remove(), 4000);
      }
    }

    // Demo submit
    const successBanner = document.getElementById('formSuccess');
    form.addEventListener('submit', function(e){
      if (!form.checkValidity()){
        e.preventDefault();
        form.reportValidity();
        return;
      }
      e.preventDefault();
      const btn = form.querySelector('[type="submit"]');
      const original = btn?.textContent;
      if (btn){ btn.disabled = true; btn.textContent = 'Submittingâ€¦' }
      setTimeout(()=>{
        if (btn){ btn.disabled = false; btn.textContent = original || 'Submit Application' }
        form.reset();
        successBanner.style.display = 'none';
        showThankYou();
        toggleExplain(crimeRadios, crimeWrap, 'crime_explain');
        toggleExplain(fundsRadios, fundsWrap, 'funds_explain');
        smoothTo('#applicant');
      }, 600);
    });

    // Mobile nav toggle in case global js is not loaded
    const globalNav = document.querySelector('.nav');
    const toggle = document.querySelector('.menu-toggle');
    if (toggle && globalNav){
      toggle.addEventListener('click', ()=>{
        globalNav.classList.toggle('open');
        toggle.setAttribute('aria-expanded', globalNav.classList.contains('open'));
      });
    }
  </script>
</body>
</html>
